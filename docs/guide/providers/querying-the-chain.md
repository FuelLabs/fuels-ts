---
title: "Querying The Chain"
parent: "Providers"
grand_parent: "Guide"
nav_order: 3
---

[info]: this file is autogenerated


# Interacting with the blockchain

Once you have set up a provider, you're ready to interact with the Fuel blockchain. Here are a few examples of what you can do with a provider; for a more in-depth overview of the API, check the [official provider API documentation](https://docs.rs/fuels/latest/fuels/signers/provider/struct.Provider.html).

- [Interacting with the blockchain](#interacting-with-the-blockchain)
  - [Set up](#set-up)
  - [Get all coins from an address](#get-all-coins-from-an-address)
  - [Get spendable resources from an address](#get-spendable-resources-from-an-address)
  - [Get balances from an address](#get-balances-from-an-address)

## Set up

You might need to set up a test blockchain first. You can skip this step if you're connecting to an external blockchain.

See [connecting](./connecting.md)

## Get all coins from an address

This method returns all coins (of an optional given asset ID) from a wallet, including spent ones.


```typescript
  import { Provider } from 'fuels';
  import { generateTestWallet } from '@fuel-ts/wallet/test-utils';
  const provider = new Provider('http://127.0.0.1:4000/graphql');
  const assetIdA = '0x0101010101010101010101010101010101010101010101010101010101010101';

  const wallet = await generateTestWallet(provider, [
    [42, NativeAssetId],
    [100, assetIdA],
  ]);

  // get single coin
  const coin = await wallet.getCoins(NativeAssetId);

  // get all coins
  const coins = await wallet.getCoins();

  expect(coin.length).toEqual(1);
  expect(coin).toEqual([
    expect.objectContaining({
      assetId: NativeAssetId,
      amount: bn(42),
    }),
  ]);
  expect(coins).toEqual([
    expect.objectContaining({
      assetId: NativeAssetId,
      amount: bn(42),
    }),
    expect.objectContaining({
      assetId: assetIdA,
      amount: bn(100),
    }),
  ]);
```
###### [see code in context](https://github.com/FuelLabs/fuels-ts/blob/master/packages/fuel-gauge/src/doc-examples.test.ts#L284-L318)

---


## Get spendable resources from an address

The last argument says how much you want to spend. This method returns only spendable, i.e., unspent coins (of a given asset ID). If you ask for more spendable than the amount of unspent coins you have, it returns an error.


```typescript
  const spendableResources = await wallet.getResourcesToSpend([
    { amount: 32, assetId: NativeAssetId, max: 42 },
    { amount: 50, assetId: assetIdA },
  ]);
  expect(spendableResources[0].amount).toEqual(bn(42));
  expect(spendableResources[1].amount).toEqual(bn(100));
```
###### [see code in context](https://github.com/FuelLabs/fuels-ts/blob/master/packages/fuel-gauge/src/doc-examples.test.ts#L328-L335)

---


## Get balances from an address

Get all the spendable balances of all assets for an address. This is different from getting the coins because we only return the numbers (the sum of UTXOs coins amount for each asset id) and not the UTXOs coins themselves.


```typescript
  const walletBalances = await wallet.getBalances();
  expect(walletBalances).toEqual([
    { assetId: NativeAssetId, amount: bn(42) },
    { assetId: assetIdA, amount: bn(100) },
  ]);
```
###### [see code in context](https://github.com/FuelLabs/fuels-ts/blob/master/packages/fuel-gauge/src/doc-examples.test.ts#L320-L326)

---

